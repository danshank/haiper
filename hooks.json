{
  "hooks": {
    "PreToolUse": [
      {
        "matcher": "Bash",
        "hooks": [
          {
            "type": "command",
            "command": "RESPONSE=$(curl -s -X POST http://localhost:10291/webhook/pre-tool-use-blocking -H 'Content-Type: application/json' -d '{\"hook_type\": \"PreToolUse\", \"session_id\": \"'\"$session_id\"'\", \"tool\": \"'\"$tool_name\"'\", \"cwd\": \"'\"$cwd\"'\", \"data\": '\"$tool_input\"'}' --max-time 300); echo \"User decision: $RESPONSE\"; if echo \"$RESPONSE\" | jq -e '.continue == false' > /dev/null 2>&1; then echo \"❌ User blocked Bash command\"; exit 2; else echo \"✅ User approved Bash command\"; fi",
            "timeout": 300
          }
        ]
      },
      {
        "matcher": "Edit|Write|MultiEdit",
        "hooks": [
          {
            "type": "command",
            "command": "RESPONSE=$(curl -s -X POST http://localhost:10291/webhook/pre-tool-use-blocking -H 'Content-Type: application/json' -d '{\"hook_type\": \"PreToolUse\", \"session_id\": \"'\"$session_id\"'\", \"tool\": \"'\"$tool_name\"'\", \"cwd\": \"'\"$cwd\"'\", \"data\": '\"$tool_input\"'}' --max-time 300); echo \"User decision: $RESPONSE\"; if echo \"$RESPONSE\" | jq -e '.continue == false' > /dev/null 2>&1; then echo \"❌ User blocked file modification\"; exit 2; else echo \"✅ User approved file modification\"; fi",
            "timeout": 300
          }
        ]
      },
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "curl -s -X POST http://localhost:10291/webhook/pre-tool-use -H 'Content-Type: application/json' -d '{\"hook_type\": \"PreToolUse\", \"session_id\": \"'\"$session_id\"'\", \"tool\": \"'\"$tool_name\"'\", \"cwd\": \"'\"$cwd\"'\", \"data\": '\"$tool_input\"'}' --max-time 10 || true",
            "timeout": 10
          }
        ]
      }
    ],
    "PostToolUse": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "curl -s -X POST http://localhost:10291/webhook/post-tool-use -H 'Content-Type: application/json' -d '{\"hook_type\": \"PostToolUse\", \"session_id\": \"'\"$session_id\"'\", \"tool\": \"'\"$tool_name\"'\", \"cwd\": \"'\"$cwd\"'\", \"success\": '\"$success\"', \"data\": '\"$tool_output\"'}' --max-time 10 || true",
            "timeout": 10
          }
        ]
      }
    ],
    "Notification": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "RESPONSE=$(curl -s -X POST http://localhost:10291/webhook/notification-blocking -H 'Content-Type: application/json' -d '{\"hook_type\": \"Notification\", \"session_id\": \"'\"$session_id\"'\", \"cwd\": \"'\"$cwd\"'\", \"message\": \"Claude needs your attention\"}' --max-time 300); echo \"User decision: $RESPONSE\"; if echo \"$RESPONSE\" | jq -e '.continue == false' > /dev/null 2>&1; then echo \"❌ User wants to stop\"; exit 2; else echo \"✅ User acknowledged notification\"; fi",
            "timeout": 300
          }
        ]
      }
    ],
    "UserPromptSubmit": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "curl -s -X POST http://localhost:10291/webhook/user-prompt-submit -H 'Content-Type: application/json' -d '{\"hook_type\": \"UserPromptSubmit\", \"session_id\": \"'\"$session_id\"'\", \"cwd\": \"'\"$cwd\"'\", \"prompt\": '\"$user_input\"'}' --max-time 10 || true",
            "timeout": 10
          }
        ]
      }
    ],
    "Stop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "curl -s -X POST http://localhost:10291/webhook/stop -H 'Content-Type: application/json' -d '{\"hook_type\": \"Stop\", \"session_id\": \"'\"$session_id\"'\", \"cwd\": \"'\"$cwd\"'\"}' --max-time 10 || true",
            "timeout": 10
          }
        ]
      }
    ],
    "SubagentStop": [
      {
        "matcher": "",
        "hooks": [
          {
            "type": "command",
            "command": "curl -s -X POST http://localhost:10291/webhook/subagent-stop -H 'Content-Type: application/json' -d '{\"hook_type\": \"SubagentStop\", \"session_id\": \"'\"$session_id\"'\", \"cwd\": \"'\"$cwd\"'\"}' --max-time 10 || true",
            "timeout": 10
          }
        ]
      }
    ],
    "PreCompact": [
      {
        "matcher": "manual",
        "hooks": [
          {
            "type": "command",
            "command": "RESPONSE=$(curl -s -X POST http://localhost:10291/webhook/notification-blocking -H 'Content-Type: application/json' -d '{\"hook_type\": \"PreCompact\", \"session_id\": \"'\"$session_id\"'\", \"cwd\": \"'\"$cwd\"'\", \"trigger\": \"manual\", \"message\": \"Claude wants to compact context manually\"}' --max-time 180); echo \"User decision: $RESPONSE\"; if echo \"$RESPONSE\" | jq -e '.continue == false' > /dev/null 2>&1; then echo \"❌ User blocked manual compaction\"; exit 2; else echo \"✅ User approved manual compaction\"; fi",
            "timeout": 180
          }
        ]
      },
      {
        "matcher": "auto",
        "hooks": [
          {
            "type": "command",
            "command": "curl -s -X POST http://localhost:10291/webhook/pre-compact -H 'Content-Type: application/json' -d '{\"hook_type\": \"PreCompact\", \"session_id\": \"'\"$session_id\"'\", \"cwd\": \"'\"$cwd\"'\", \"trigger\": \"auto\"}' --max-time 10 || true",
            "timeout": 10
          }
        ]
      }
    ]
  }
}